{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/godfr/Desktop/c2040/src/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"@/app/context/AuthContext\";\r\nimport { ReactNode, useEffect } from \"react\";\r\n\r\ninterface ProtectedRouteProps {\r\n    children: ReactNode;\r\n}\r\n\r\nexport default function ProtectedRoute({ children }: ProtectedRouteProps) {\r\n    const { user, loading } = useAuth();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!loading && !user) {\r\n            router.push(\"/login\");\r\n        }\r\n    }, [user, loading, router]);\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-[var(--apple-white)]\">\r\n                <div className=\"flex flex-col items-center gap-4\">\r\n                    <div className=\"w-8 h-8 border-2 border-[var(--apple-border)] border-t-[var(--apple-blue)] rounded-full animate-spin\" />\r\n                    <p className=\"text-sm text-[var(--apple-gray)]\">Loading...</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!user) {\r\n        return null;\r\n    }\r\n\r\n    return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAUe,SAAS,eAAe,EAAE,QAAQ,EAAuB;IACpE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,gJAAO;IACjC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,WAAW,CAAC,MAAM;YACnB,OAAO,IAAI,CAAC;QAChB;IACJ,GAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,IAAI,SAAS;QACT,qBACI,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAmC;;;;;;;;;;;;;;;;;IAIhE;IAEA,IAAI,CAAC,MAAM;QACP,OAAO;IACX;IAEA,qBAAO;kBAAG;;AACd"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/godfr/Desktop/c2040/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, ChangeEvent, FormEvent } from \"react\";\nimport Image from \"next/image\";\nimport { useRouter } from \"next/navigation\";\nimport { useAnalysis } from \"./context/AnalysisContext\";\nimport { useAuth } from \"./context/AuthContext\";\nimport ProtectedRoute from \"@/components/ProtectedRoute\";\n\nexport default function Home() {\n  return (\n    <ProtectedRoute>\n      <HomeContent />\n    </ProtectedRoute>\n  );\n}\n\nfunction HomeContent() {\n  const [file, setFile] = useState<File | null>(null);\n  const [status, setStatus] = useState<\"idle\" | \"uploading\" | \"error\">(\"idle\");\n  const [message, setMessage] = useState<string>(\"\");\n  const [dragActive, setDragActive] = useState(false);\n\n  const router = useRouter();\n  const { setAnalysis } = useAnalysis();\n  const { user, signOut } = useAuth();\n\n  const handleFileChange = (e: ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      setFile(e.target.files[0]);\n      setStatus(\"idle\");\n      setMessage(\"\");\n    }\n  };\n\n  const handleDrag = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      setFile(e.dataTransfer.files[0]);\n      setStatus(\"idle\");\n      setMessage(\"\");\n    }\n  };\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n    if (!file) return;\n\n    setStatus(\"uploading\");\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    try {\n      const response = await fetch(\"/api/upload\", {\n        method: \"POST\",\n        body: formData,\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || \"Upload failed\");\n      }\n\n      setAnalysis(result.data);\n      router.push(\"/results\");\n\n    } catch (error) {\n      console.error(error);\n      setStatus(\"error\");\n      setMessage(error instanceof Error ? error.message : \"An error occurred\");\n    }\n  };\n\n  const handleSignOut = async () => {\n    try {\n      await signOut();\n      router.push(\"/login\");\n    } catch (error) {\n      console.error(\"Sign out error:\", error);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[var(--apple-white)]\">\n      {/* Navigation */}\n      <nav className=\"fixed top-0 left-0 right-0 z-50 bg-[var(--apple-white)]/80 backdrop-blur-xl border-b border-[var(--apple-border)]/50\">\n        <div className=\"max-w-6xl mx-auto px-6 h-16 flex items-center justify-between\">\n          <Image\n            src=\"/medibill_logo.svg\"\n            alt=\"MediBill\"\n            width={120}\n            height={40}\n            className=\"h-8 w-auto\"\n            priority\n          />\n          <div className=\"flex items-center gap-6\">\n            <span className=\"text-sm text-[var(--apple-gray)]\">{user?.email}</span>\n            <button\n              onClick={handleSignOut}\n              className=\"text-sm text-[var(--apple-blue)] hover:underline transition-colors\"\n            >\n              Sign Out\n            </button>\n          </div>\n        </div>\n      </nav>\n\n      {/* Main Content */}\n      <main className=\"pt-32 pb-24 px-6\">\n        <div className=\"max-w-2xl mx-auto text-center animate-fade-in-up\">\n          {/* Hero */}\n          <h1 className=\"text-headline mb-6\">\n            Analyze your<br />medical bills.\n          </h1>\n          <p className=\"text-body text-xl max-w-lg mx-auto mb-16\">\n            Upload your medical bill and let our AI identify potential savings\n            and generate appeal letters instantly.\n          </p>\n\n          {/* Upload Card */}\n          <form onSubmit={handleSubmit} className=\"animate-fade-in-up\" style={{ animationDelay: \"0.2s\" }}>\n            <div\n              onDragEnter={handleDrag}\n              onDragLeave={handleDrag}\n              onDragOver={handleDrag}\n              onDrop={handleDrop}\n              className={`\n                card-apple p-12 transition-all duration-300 cursor-pointer\n                ${dragActive ? \"border-[var(--apple-blue)] bg-[var(--apple-blue)]/5\" : \"\"}\n                ${file ? \"border-[var(--apple-green)]\" : \"\"}\n              `}\n            >\n              <input\n                type=\"file\"\n                id=\"file-upload\"\n                onChange={handleFileChange}\n                accept=\".pdf,.png,.jpg,.jpeg\"\n                className=\"hidden\"\n              />\n\n              <label htmlFor=\"file-upload\" className=\"cursor-pointer block\">\n                <div className=\"flex flex-col items-center\">\n                  {file ? (\n                    <>\n                      <div className=\"w-16 h-16 rounded-full bg-[var(--apple-green)]/10 flex items-center justify-center mb-6\">\n                        <svg className=\"w-8 h-8 text-[var(--apple-green)]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                        </svg>\n                      </div>\n                      <p className=\"text-lg font-medium text-[var(--apple-black)] mb-2\">{file.name}</p>\n                      <p className=\"text-sm text-[var(--apple-gray)]\">Click to choose a different file</p>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\"w-16 h-16 rounded-full bg-[var(--apple-light-gray)] flex items-center justify-center mb-6\">\n                        <svg className=\"w-8 h-8 text-[var(--apple-gray)]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                        </svg>\n                      </div>\n                      <p className=\"text-lg font-medium text-[var(--apple-black)] mb-2\">\n                        Drop your medical bill here\n                      </p>\n                      <p className=\"text-sm text-[var(--apple-gray)]\">or click to browse</p>\n                      <p className=\"text-xs text-[var(--apple-gray)] mt-4\">Supports PDF, PNG, JPG</p>\n                    </>\n                  )}\n                </div>\n              </label>\n            </div>\n\n            {status === \"error\" && (\n              <div className=\"mt-4 p-4 rounded-xl bg-[var(--apple-red)]/5 border border-[var(--apple-red)]/20 text-[var(--apple-red)] text-sm\">\n                {message}\n              </div>\n            )}\n\n            <button\n              type=\"submit\"\n              disabled={!file || status === \"uploading\"}\n              className=\"btn-apple btn-apple-primary w-full mt-6 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n            >\n              {status === \"uploading\" ? (\n                <span className=\"flex items-center justify-center gap-3\">\n                  <svg className=\"w-5 h-5 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"3\" />\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n                  </svg>\n                  Analyzing...\n                </span>\n              ) : (\n                \"Analyze Bill\"\n              )}\n            </button>\n          </form>\n        </div>\n      </main>\n\n      {/* Footer */}\n      <footer className=\"py-8 text-center text-caption border-t border-[var(--apple-border)]\">\n        <p>Â© 2026 MediBill. All rights reserved.</p>\n      </footer>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}