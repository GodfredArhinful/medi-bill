{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/godfr/Desktop/c2040/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, FormEvent, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\nexport default function LoginPage() {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const { signIn, user, loading: authLoading } = useAuth();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!authLoading && user) {\r\n            router.push(\"/\");\r\n        }\r\n    }, [user, authLoading, router]);\r\n\r\n    const handleSubmit = async (e: FormEvent) => {\r\n        e.preventDefault();\r\n        setError(\"\");\r\n        setLoading(true);\r\n\r\n        try {\r\n            await signIn(email, password);\r\n            router.push(\"/\");\r\n        } catch (err) {\r\n            console.error(err);\r\n            setError(getErrorMessage(err));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (authLoading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-[var(--apple-white)]\">\r\n                <div className=\"w-8 h-8 border-2 border-[var(--apple-border)] border-t-[var(--apple-blue)] rounded-full animate-spin\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (user) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <main className=\"min-h-screen flex flex-col items-center justify-center bg-[var(--apple-white)] px-6\">\r\n            {/* Logo */}\r\n            <div className=\"mb-12 animate-fade-in\">\r\n                <Image\r\n                    src=\"/medibill_logo.svg\"\r\n                    alt=\"MediBill\"\r\n                    width={200}\r\n                    height={67}\r\n                    className=\"h-12 w-auto\"\r\n                    priority\r\n                />\r\n            </div>\r\n\r\n            {/* Login Card */}\r\n            <div className=\"w-full max-w-[400px] animate-fade-in-up\" style={{ animationDelay: \"0.1s\" }}>\r\n                <div className=\"text-center mb-8\">\r\n                    <h1 className=\"text-subheadline mb-2\">Sign in</h1>\r\n                    <p className=\"text-body\">Access your MediBill account</p>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n                    {error && (\r\n                        <div className=\"p-4 rounded-xl bg-[var(--apple-red)]/5 border border-[var(--apple-red)]/20 text-[var(--apple-red)] text-sm text-center\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <label htmlFor=\"email\" className=\"sr-only\">Email</label>\r\n                            <input\r\n                                id=\"email\"\r\n                                type=\"email\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                required\r\n                                className=\"input-apple\"\r\n                                placeholder=\"Email\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"password\" className=\"sr-only\">Password</label>\r\n                            <input\r\n                                id=\"password\"\r\n                                type=\"password\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                required\r\n                                className=\"input-apple\"\r\n                                placeholder=\"Password\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"text-right\">\r\n                        <Link\r\n                            href=\"/forgot-password\"\r\n                            className=\"text-sm text-[var(--apple-blue)] hover:underline transition-colors\"\r\n                        >\r\n                            Forgot password?\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className=\"btn-apple btn-apple-primary w-full disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\r\n                    >\r\n                        {loading ? (\r\n                            <span className=\"flex items-center justify-center gap-3\">\r\n                                <svg className=\"w-5 h-5 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"3\" />\r\n                                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\r\n                                </svg>\r\n                                Signing in...\r\n                            </span>\r\n                        ) : (\r\n                            \"Continue\"\r\n                        )}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"mt-8 pt-8 border-t border-[var(--apple-border)] text-center\">\r\n                    <p className=\"text-body\">\r\n                        New to MediBill?{\" \"}\r\n                        <Link href=\"/signup\" className=\"text-[var(--apple-blue)] hover:underline font-medium\">\r\n                            Create account\r\n                        </Link>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <footer className=\"mt-16 text-center text-caption\">\r\n                <p>Â© 2026 MediBill. All rights reserved.</p>\r\n            </footer>\r\n        </main>\r\n    );\r\n}\r\n\r\nfunction getErrorMessage(error: unknown): string {\r\n    if (error && typeof error === \"object\" && \"code\" in error) {\r\n        const code = (error as { code: string }).code;\r\n        switch (code) {\r\n            case \"auth/invalid-email\":\r\n                return \"Please enter a valid email address.\";\r\n            case \"auth/user-disabled\":\r\n                return \"This account has been disabled.\";\r\n            case \"auth/user-not-found\":\r\n            case \"auth/wrong-password\":\r\n            case \"auth/invalid-credential\":\r\n                return \"Invalid email or password.\";\r\n            case \"auth/too-many-requests\":\r\n                return \"Too many attempts. Please try again later.\";\r\n            default:\r\n                return \"Unable to sign in. Please try again.\";\r\n        }\r\n    }\r\n    return \"An unexpected error occurred.\";\r\n}\r\n"],"names":[],"mappings":"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"}}]
}