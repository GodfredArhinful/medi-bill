{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/godfr/Desktop/c2040/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, FormEvent, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\nexport default function LoginPage() {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const { signIn, user, loading: authLoading } = useAuth();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!authLoading && user) {\r\n            router.push(\"/\");\r\n        }\r\n    }, [user, authLoading, router]);\r\n\r\n    const handleSubmit = async (e: FormEvent) => {\r\n        e.preventDefault();\r\n        setError(\"\");\r\n        setLoading(true);\r\n\r\n        try {\r\n            await signIn(email, password);\r\n            router.push(\"/\");\r\n        } catch (err) {\r\n            console.error(err);\r\n            setError(getErrorMessage(err));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (authLoading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-[var(--apple-white)]\">\r\n                <div className=\"w-8 h-8 border-2 border-[var(--apple-border)] border-t-[var(--apple-blue)] rounded-full animate-spin\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (user) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <main className=\"min-h-screen flex flex-col items-center justify-center bg-[var(--apple-white)] px-6\">\r\n            {/* Logo */}\r\n            <div className=\"mb-12 animate-fade-in\">\r\n                <Image\r\n                    src=\"/medibill_logo.svg\"\r\n                    alt=\"MediBill\"\r\n                    width={200}\r\n                    height={67}\r\n                    className=\"h-12 w-auto\"\r\n                    priority\r\n                />\r\n            </div>\r\n\r\n            {/* Login Card */}\r\n            <div className=\"w-full max-w-[400px] animate-fade-in-up\" style={{ animationDelay: \"0.1s\" }}>\r\n                <div className=\"text-center mb-8\">\r\n                    <h1 className=\"text-subheadline mb-2\">Sign in</h1>\r\n                    <p className=\"text-body\">Access your MediBill account</p>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n                    {error && (\r\n                        <div className=\"p-4 rounded-xl bg-[var(--apple-red)]/5 border border-[var(--apple-red)]/20 text-[var(--apple-red)] text-sm text-center\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <label htmlFor=\"email\" className=\"sr-only\">Email</label>\r\n                            <input\r\n                                id=\"email\"\r\n                                type=\"email\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                required\r\n                                className=\"input-apple\"\r\n                                placeholder=\"Email\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"password\" className=\"sr-only\">Password</label>\r\n                            <input\r\n                                id=\"password\"\r\n                                type=\"password\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                required\r\n                                className=\"input-apple\"\r\n                                placeholder=\"Password\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"text-right\">\r\n                        <Link\r\n                            href=\"/forgot-password\"\r\n                            className=\"text-sm text-[var(--apple-blue)] hover:underline transition-colors\"\r\n                        >\r\n                            Forgot password?\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className=\"btn-apple btn-apple-primary w-full disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\r\n                    >\r\n                        {loading ? (\r\n                            <span className=\"flex items-center justify-center gap-3\">\r\n                                <svg className=\"w-5 h-5 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"3\" />\r\n                                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\r\n                                </svg>\r\n                                Signing in...\r\n                            </span>\r\n                        ) : (\r\n                            \"Continue\"\r\n                        )}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"mt-8 pt-8 border-t border-[var(--apple-border)] text-center\">\r\n                    <p className=\"text-body\">\r\n                        New to MediBill?{\" \"}\r\n                        <Link href=\"/signup\" className=\"text-[var(--apple-blue)] hover:underline font-medium\">\r\n                            Create account\r\n                        </Link>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <footer className=\"mt-16 text-center text-caption\">\r\n                <p>Â© 2026 MediBill. All rights reserved.</p>\r\n            </footer>\r\n        </main>\r\n    );\r\n}\r\n\r\nfunction getErrorMessage(error: unknown): string {\r\n    if (error && typeof error === \"object\" && \"code\" in error) {\r\n        const code = (error as { code: string }).code;\r\n        switch (code) {\r\n            case \"auth/invalid-email\":\r\n                return \"Please enter a valid email address.\";\r\n            case \"auth/user-disabled\":\r\n                return \"This account has been disabled.\";\r\n            case \"auth/user-not-found\":\r\n            case \"auth/wrong-password\":\r\n            case \"auth/invalid-credential\":\r\n                return \"Invalid email or password.\";\r\n            case \"auth/too-many-requests\":\r\n                return \"Too many attempts. Please try again later.\";\r\n            default:\r\n                return \"Unable to sign in. Please try again.\";\r\n        }\r\n    }\r\n    return \"An unexpected error occurred.\";\r\n}\r\n"],"names":["useState","FormEvent","useEffect","Link","Image","useRouter","useAuth","LoginPage","email","setEmail","password","setPassword","error","setError","loading","setLoading","signIn","user","authLoading","router","push","handleSubmit","e","preventDefault","err","console","getErrorMessage","animationDelay","target","value","code"],"mappings":"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","ignoreList":[]}}]
}